{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aman\\\\Desktop\\\\412Project\\\\MorissetteApp\\\\frontend\\\\src\\\\Components\\\\AddFinance.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Card } from 'react-bootstrap';\nimport { createFinance, getCustomerInfo, isAuthenticated } from './fetchvehicles'; //get customer info instade if catagorey and replace it \n\nconst AddFinance = () => {\n  const [values, setValues] = useState({\n    occupation: '',\n    income: '',\n    ssn: '',\n    customer: [],\n    dob: '',\n    photo: '',\n    employersname: '',\n    credit: '',\n    createdFinance: '',\n    status: '',\n    paymentAmount: '',\n    interstRate: '',\n    loading: false,\n    error: '',\n    redirectToProfile: false,\n    formData: ''\n  });\n  const {\n    customer,\n    token\n  } = isAuthenticated();\n  const {\n    occupation,\n    income,\n    ssn,\n    dob,\n    employersname,\n    credit,\n    status,\n    paymentAmount,\n    interstRate,\n    loading,\n    error,\n    createdFinance,\n    redirectToProfile,\n    formData\n  } = values; // load categories and set form data\n\n  const init = () => {\n    getCustomerInfo().then(data => {\n      if (data.error) {\n        setValues({ ...values,\n          error: data.error\n        });\n      } else {\n        setValues({ ...values,\n          customer: data,\n          formData: new FormData()\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    init();\n  }, []);\n\n  const handleChange = name => event => {\n    const value = name === 'photo' ? event.target.files[0] : event.target.value;\n    formData.set(name, value);\n    setValues({ ...values,\n      [name]: value\n    });\n  };\n\n  const clickSubmit = event => {\n    event.preventDefault();\n    setValues({ ...values,\n      error: '',\n      loading: true\n    });\n    createFinance(customer._id, token, formData).then(data => {\n      if (data.error) {\n        setValues({ ...values,\n          error: data.error\n        });\n      } else {\n        setValues({ ...values,\n          occupation: '',\n          income: '',\n          interstRate: '',\n          ssn: '',\n          employersname: '',\n          photo: '',\n          loading: false\n        });\n      }\n    });\n  };\n\n  const newPostForm = () => /*#__PURE__*/React.createElement(\"form\", {\n    className: \"mb-3\",\n    onSubmit: clickSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, \"Post Photo\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"btn btn-secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleChange('photo'),\n    type: \"file\",\n    name: \"photo\",\n    accept: \"image/*\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, \"occupation\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleChange('occupation'),\n    type: \"text\",\n    className: \"form-control\",\n    value: occupation,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }, \"income\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    onChange: handleChange('income'),\n    className: \"form-control\",\n    value: income,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  }, \"ssn\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleChange('ssn'),\n    type: \"number\",\n    className: \"form-control\",\n    value: ssn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, \"customer\"), /*#__PURE__*/React.createElement(\"select\", {\n    onChange: handleChange('customer'),\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }, customer.map)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 17\n    }\n  }, \"dob\"), /*#__PURE__*/React.createElement(\"select\", {\n    onChange: handleChange('dob'),\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }\n  }, \"employersname\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleChange('employersname'),\n    type: \"number\",\n    className: \"form-control\",\n    value: employersname,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 17\n    }\n  }, \"credit\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleChange('credit'),\n    type: \"number\",\n    className: \"form-control\",\n    value: credit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 17\n    }\n  }, \"status\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleChange('status'),\n    type: \"number\",\n    className: \"form-control\",\n    value: status,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 17\n    }\n  }, \"paymentAmount\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleChange('paymentAmount'),\n    type: \"number\",\n    className: \"form-control\",\n    value: paymentAmount,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 17\n    }\n  }, \"interstRate\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleChange('interstRate'),\n    type: \"number\",\n    className: \"form-control\",\n    value: interstRate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-outline-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }\n  }, \"Submit Finance-Form\"));\n\n  const showError = () => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-danger\",\n    style: {\n      display: error ? '' : 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 9\n    }\n  }, error);\n\n  const showSuccess = () => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-info\",\n    style: {\n      display: createdFinance ? '' : 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  }, `${createdFinance}`, \" Your Finance Form is Submited!\"));\n\n  const showLoading = () => loading && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 17\n    }\n  }, \"Loading...\"));\n\n  return /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-8 offset-md-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 17\n    }\n  }, showLoading(), showSuccess(), showError(), newPostForm())));\n};\n\nexport default AddFinance;","map":{"version":3,"sources":["C:/Users/aman/Desktop/412Project/MorissetteApp/frontend/src/Components/AddFinance.js"],"names":["React","useState","useEffect","Link","Card","createFinance","getCustomerInfo","isAuthenticated","AddFinance","values","setValues","occupation","income","ssn","customer","dob","photo","employersname","credit","createdFinance","status","paymentAmount","interstRate","loading","error","redirectToProfile","formData","token","init","then","data","FormData","handleChange","name","event","value","target","files","set","clickSubmit","preventDefault","_id","newPostForm","map","showError","display","showSuccess","showLoading"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Card } from 'react-bootstrap'\r\nimport { createFinance, getCustomerInfo,isAuthenticated } from './fetchvehicles';\r\n//get customer info instade if catagorey and replace it \r\nconst AddFinance = () => {\r\n    const [values, setValues] = useState({\r\n        occupation: '',\r\n        income: '',\r\n        ssn: '',\r\n        customer: [],\r\n        dob: '',\r\n        photo: '',\r\n        employersname: '',\r\n        credit: '',\r\n        createdFinance: '',\r\n        status: '',\r\n        paymentAmount: '',\r\n        interstRate: '',\r\n        loading: false,\r\n        error: '',\r\n        redirectToProfile: false,\r\n        formData: ''\r\n    });\r\n\r\n    const { customer, token } = isAuthenticated();\r\n    const {\r\n        occupation,\r\n        income,\r\n        ssn,\r\n        dob,\r\n        employersname,\r\n        credit,\r\n        status,\r\n        paymentAmount,\r\n        interstRate,\r\n        loading,\r\n        error,\r\n        createdFinance,\r\n        redirectToProfile,\r\n        formData\r\n    } = values;\r\n\r\n    // load categories and set form data\r\n    const init = () => {\r\n        getCustomerInfo().then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error });\r\n            } else {\r\n                setValues({\r\n                    ...values,\r\n                    customer: data,\r\n                    formData: new FormData()\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        init();\r\n    }, []);\r\n\r\n    const handleChange = name => event => {\r\n        const value = name === 'photo' ? event.target.files[0] : event.target.value;\r\n        formData.set(name, value);\r\n        setValues({ ...values, [name]: value });\r\n    };\r\n\r\n    const clickSubmit = event => {\r\n        event.preventDefault();\r\n        setValues({ ...values, error: '', loading: true });\r\n\r\n        createFinance(customer._id, token, formData).then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error });\r\n            } else {\r\n                setValues({\r\n                    ...values,\r\n                    occupation: '',\r\n                    income: '',\r\n                    interstRate: '',\r\n                    ssn: '',\r\n                    employersname: '',\r\n                    photo: '',\r\n                    loading: false,\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    const newPostForm = () => (\r\n        <form className=\"mb-3\" onSubmit={clickSubmit}>\r\n            <h4>Post Photo</h4>\r\n            <div className=\"form-group\">\r\n                <label className=\"btn btn-secondary\">\r\n                    <input onChange={handleChange('photo')} type=\"file\" name=\"photo\" accept=\"image/*\" />\r\n                </label>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">occupation</label>\r\n                <input onChange={handleChange('occupation')} type=\"text\" className=\"form-control\" value={occupation} />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">income</label>\r\n                <textarea onChange={handleChange('income')} className=\"form-control\" value={income} />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">ssn</label>\r\n                <input onChange={handleChange('ssn')} type=\"number\" className=\"form-control\" value={ssn} />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">customer</label>\r\n                <select onChange={handleChange('customer')} className=\"form-control\">\r\n                    {customer.map}\r\n                </select>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">dob</label>\r\n                <select onChange={handleChange('dob')} className=\"form-control\">\r\n                </select>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">employersname</label>\r\n                <input onChange={handleChange('employersname')} type=\"number\" className=\"form-control\" value={employersname} />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">credit</label>\r\n                <input onChange={handleChange('credit')} type=\"number\" className=\"form-control\" value={credit} />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">status</label>\r\n                <input onChange={handleChange('status')} type=\"number\" className=\"form-control\" value={status} />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">paymentAmount</label>\r\n                <input onChange={handleChange('paymentAmount')} type=\"number\" className=\"form-control\" value={paymentAmount} />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">interstRate</label>\r\n                <input onChange={handleChange('interstRate')} type=\"number\" className=\"form-control\" value={interstRate} />\r\n            </div>\r\n            <button className=\"btn btn-outline-primary\">Submit Finance-Form</button>\r\n        </form>\r\n    );\r\n\r\n    const showError = () => (\r\n        <div className=\"alert alert-danger\" style={{ display: error ? '' : 'none' }}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const showSuccess = () => (\r\n        <div className=\"alert alert-info\" style={{ display: createdFinance ? '' : 'none' }}>\r\n            <h2>{`${createdFinance}`} Your Finance Form is Submited!</h2>\r\n        </div>\r\n    );\r\n\r\n    const showLoading = () =>\r\n        loading && (\r\n            <div className=\"alert alert-success\">\r\n                <h2>Loading...</h2>\r\n            </div>\r\n        );\r\n\r\n    return (\r\n        <Card> \r\n            \r\n            <div className=\"row\">\r\n                <div className=\"col-md-8 offset-md-2\">\r\n                    {showLoading()}\r\n                    {showSuccess()}\r\n                    {showError()}\r\n                    {newPostForm()}\r\n                </div>\r\n            </div>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default AddFinance;\r\n"]},"metadata":{},"sourceType":"module"}