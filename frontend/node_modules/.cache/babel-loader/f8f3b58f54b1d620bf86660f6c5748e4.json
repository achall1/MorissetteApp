{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aman\\\\Desktop\\\\Final412Project\\\\MorissetteApp\\\\frontend\\\\src\\\\Components\\\\AccountInformation.js\";\nimport React, { useState, useEffect } from 'react';\nimport Header from './header';\nimport Footer from './footer';\nimport { Redirect } from 'react-router-dom';\nimport axios from 'axios';\nimport '../Styles/account_info_styles.css';\nimport { API } from \"../config\";\n\nconst AccountInformation = () => {\n  const [stopLoop, setStopLoop] = useState(0);\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [creditCard, setCreditCard] = useState('');\n  const [buyHistory, setBuyHistory] = useState('');\n  const [address, setAddress] = useState('');\n  const [insurer, setInsurer] = useState('Nationwide');\n  const [zipCode, setZipCode] = useState('');\n  const [ssn, setSSN] = useState('');\n  const [cvv, setCVV] = useState('326556');\n  const [editAcc, setEditAcc] = useState(false);\n  useEffect(() => {\n    const userObj = JSON.parse(localStorage.getItem('UserAuth'));\n    const userid = userObj.customer._id;\n    axios.get(`{API}/user/${userid}`, {\n      headers: {\n        'Authorization': `Bearer ${userObj.token}`\n      }\n    }).then(res => {\n      setName(res.data.customer.name); //should be setName(res.data.customer.first_name + ' ' + res.data.customer.last_name)\n\n      setEmail(res.data.customer.email);\n      setCreditCard(res.data.customer.creditCard);\n      setBuyHistory(res.data.customer.buyHistory);\n      setAddress(res.data.customer.Street_Address);\n      setZipCode(res.data.customer.Zip);\n      setSSN(res.data.customer.Last4SSN);\n      setCVV(res.data.customer.CVV); //needs setInsurer(res.data.customer.autoInsurer)\n    }).catch(err => console.log(err));\n  }, [stopLoop]);\n\n  if (editAcc) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/edit-account\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 16\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      textAlign: 'center',\n      backgroundColor: 'blue',\n      paddingBottom: '20px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 25\n    }\n  }, \"Customer Information\")), /*#__PURE__*/React.createElement(\"hr\", {\n    className: \"customer-hr\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"customer-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"customer-attributes\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 29\n    }\n  }, \"Name: \", name, \" \"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"customer-attributes\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 29\n    }\n  }, \"Email: \", email, \" \"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"customer-attributes\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 29\n    }\n  }, \"Vehicle(s): \", buyHistory.map, \" \"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"customer-attributes\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 29\n    }\n  }, \"Credit Card: #: \", creditCard, \" \"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"customer-attributes\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 29\n    }\n  }, \"CVV: \", cvv, \" \"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"customer-attributes\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 29\n    }\n  }, \"Home Address: \", address, \" \"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"customer-attributes\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 29\n    }\n  }, \"Auto Insurer: \", insurer, \" \"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"customer-attributes\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 29\n    }\n  }, \"Zip code: \", zipCode, \" \"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"customer-attributes\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 29\n    }\n  }, \"Last 4 SSN #: \", ssn, \" \"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"update-account-bttn\",\n    onClick: () => setEditAcc(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 29\n    }\n  }, \" Update Account \"))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default AccountInformation;","map":{"version":3,"sources":["C:/Users/aman/Desktop/Final412Project/MorissetteApp/frontend/src/Components/AccountInformation.js"],"names":["React","useState","useEffect","Header","Footer","Redirect","axios","API","AccountInformation","stopLoop","setStopLoop","name","setName","email","setEmail","creditCard","setCreditCard","buyHistory","setBuyHistory","address","setAddress","insurer","setInsurer","zipCode","setZipCode","ssn","setSSN","cvv","setCVV","editAcc","setEditAcc","userObj","JSON","parse","localStorage","getItem","userid","customer","_id","get","headers","token","then","res","data","Street_Address","Zip","Last4SSN","CVV","catch","err","console","log","textAlign","backgroundColor","paddingBottom","map"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Header from './header';\r\nimport Footer from './footer'\r\nimport { Redirect } from 'react-router-dom'\r\nimport axios from 'axios';\r\nimport '../Styles/account_info_styles.css'\r\nimport {API} from \"../config\";\r\n\r\nconst AccountInformation = () => {\r\n    const [stopLoop, setStopLoop] = useState(0);\r\n    const [name, setName] = useState('');\r\n    const [email, setEmail] = useState('')\r\n    const [creditCard, setCreditCard] = useState('')\r\n    const [buyHistory, setBuyHistory] = useState('')\r\n    const [address, setAddress] = useState('')\r\n    const [insurer, setInsurer] = useState('Nationwide')\r\n    const [zipCode, setZipCode] = useState('')\r\n    const [ssn, setSSN] = useState('');\r\n    const [cvv, setCVV] = useState('326556')\r\n    const [editAcc, setEditAcc] = useState(false)\r\n\r\n    useEffect(() => {\r\n        const userObj = JSON.parse(localStorage.getItem('UserAuth'));\r\n        const userid = userObj.customer._id\r\n\r\n        axios.get(`{API}/user/${userid}`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${userObj.token}`\r\n            }\r\n        }).then((res) =>{\r\n            setName(res.data.customer.name);\r\n            //should be setName(res.data.customer.first_name + ' ' + res.data.customer.last_name)\r\n            setEmail(res.data.customer.email);\r\n            setCreditCard(res.data.customer.creditCard);\r\n            setBuyHistory(res.data.customer.buyHistory);\r\n            setAddress(res.data.customer.Street_Address);\r\n            setZipCode(res.data.customer.Zip);\r\n            setSSN(res.data.customer.Last4SSN);\r\n            setCVV(res.data.customer.CVV);\r\n            //needs setInsurer(res.data.customer.autoInsurer)\r\n        })\r\n        .catch((err) => console.log(err))\r\n    }, [stopLoop])\r\n\r\n    if(editAcc){\r\n        return <Redirect to='/edit-account'/>\r\n    }\r\n    return (\r\n        <div>\r\n            <Header />\r\n                <div>\r\n                    <h1 style={{textAlign: 'center', backgroundColor: 'blue', paddingBottom: '20px'}}>\r\n                        <strong>Customer Information</strong>\r\n                        </h1>\r\n                    <hr className='customer-hr'></hr>\r\n                        <div id=\"customer-info\">\r\n                            <p className=\"customer-attributes\">Name: {name} </p>\r\n                            <p className=\"customer-attributes\">Email: {email} </p>\r\n                            <p className=\"customer-attributes\">Vehicle(s): {buyHistory.map} </p>\r\n                            <p className=\"customer-attributes\">Credit Card: #: {creditCard} </p>\r\n                            <p className=\"customer-attributes\">CVV: {cvv} </p>\r\n                            <p className=\"customer-attributes\">Home Address: {address} </p>\r\n                            <p className=\"customer-attributes\">Auto Insurer: {insurer} </p>\r\n                            <p className=\"customer-attributes\">Zip code: {zipCode} </p>\r\n                            <p className=\"customer-attributes\">Last 4 SSN #: {ssn} </p>\r\n                            <button className=\"update-account-bttn\" onClick={ () => setEditAcc(true)}> Update Account </button>\r\n                        </div>\r\n                </div>\r\n            <Footer />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AccountInformation;"]},"metadata":{},"sourceType":"module"}